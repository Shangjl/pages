import{E as l,r as i,j as p,o as h,a as u,c as d,F as _,b as I,u as g,d as S,e as O,f as v,I as N,g as y}from"./pnpm-b78f81eb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const w={set(e,t){sessionStorage&&e!=null&&t!=null&&sessionStorage.setItem(e,t)},get(e){return!sessionStorage||e==null?null:sessionStorage.getItem(e)},setJSON(e,t){t!=null&&this.set(e,JSON.stringify(t))},getJSON(e){const t=this.get(e);if(t!=null)return JSON.parse(t)},remove(e){sessionStorage.removeItem(e)}},b={set(e,t){localStorage&&e!=null&&t!=null&&localStorage.setItem(e,t)},get(e){return!localStorage||e==null?null:localStorage.getItem(e)},setJSON(e,t){t!=null&&this.set(e,JSON.stringify(t))},getJSON(e){const t=this.get(e);if(t!=null)return JSON.parse(t)},remove(e){localStorage.removeItem(e)}},A={session:w,local:b},C={msg(e){l.info(e)},msgError(e){l.error(e)},msgSuccess(e){l.success(e)},msgWarning(e){l.warning(e)}},D={ADMIN_TOKEN:"ADMIN-TOKEN",H5:"h5",WX_XCX:"miniprogram",APP_PLUS:"plus"};i({currentCameraDeviceId:void 0,allCameraDevices:[]});function f(){const e=i(!1),t=i({});return{open:e,Cache:A,Constants:D,Modal:C,refsMap:t}}function E(e){let t=arguments[1]||window.location.href,o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),s=t.substr(t.indexOf("?")+1).match(o);if(s!==null){let n=decodeURI(s[2]).indexOf("#");return n!==-1?decodeURI(s[2]).substring(0,n):decodeURI(s[2])}else return""}f();function J(){const{Cache:e,Constants:t,Modal:o}=f(),s=E("params")||encodeURIComponent(JSON.stringify({})),{token:n,baseURL:r="https://auto.hsdzipper.cn/prod-api/hsd-crm",data:a}=JSON.parse(decodeURIComponent(s));return e.session.setJSON(t.ADMIN_TOKEN,n),window["AXIOS-BASE-API"]=r,a}function P(){async function e(t){return await new Promise(o=>{let s=document.createElement("canvas"),n=s.getContext("2d"),r=new Image;r.crossOrigin="",r.onload=function(){s.width=r.width,s.height=r.height,n.drawImage(r,0,0,r.width,r.height);let a=n.getImageData(0,0,r.width,r.height),c=p(a.data,a.width,a.height);c?(console.log("code",c),console.log("code.data",c.data),o(c.data)):console.error("No QR code found.")},r.src=t.toString()})}return{analyzeQrcodeByImgUrl:e}}const L=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o},U={class:"container"},M=["href"],R={__name:"App",setup(e){const t=i([]),o=i(""),{analyzeQrcodeByImgUrl:s}=P();return h(()=>{const n=J();n&&(t.value=n.split(","),s(t.value[t.value.length-1]).then(r=>{o.value=r,console.log("threeDLink.value",o.value)}))}),(n,r)=>{const a=N;return u(),d("div",U,[(u(!0),d(_,null,I(g(t),(c,m)=>(u(),v(a,{class:"image",key:m,src:c},null,8,["src"]))),128)),S("a",{href:g(o),target:"_blank"},"3D模型",8,M),O(a,{class:"mark",fit:"cover",src:"https://auto.hsdzipper.cn/minio-hsd-crm/hsd/hsd-mobile/search-tab-bgimg.png"})])}}},x=L(R,[["__scopeId","data-v-a1f3df88"]]);y(x).mount("#app");
